{
  "url":"https://api.github.com/repos/athensresearch/athens/issues/47",
  "repository_url":"https://api.github.com/repos/athensresearch/athens",
  "labels_url":"https://api.github.com/repos/athensresearch/athens/issues/47/labels{/name}",
  "comments_url":"https://api.github.com/repos/athensresearch/athens/issues/47/comments",
  "events_url":"https://api.github.com/repos/athensresearch/athens/issues/47/events",
  "html_url":"https://github.com/athensresearch/athens/pull/47",
  "id":615358958,
  "node_id":"MDExOlB1bGxSZXF1ZXN0NDE1Njk3Mzk3",
  "number":47,
  "title":"Add: trigger vercel deploy in gh action",
  "user":{
    "login":"yqrashawn",
    "id":15090582,
    "node_id":"MDQ6VXNlcjE1MDkwNTgy",
    "avatar_url":"https://avatars0.githubusercontent.com/u/15090582?v=4",
    "gravatar_id":"",
    "url":"https://api.github.com/users/yqrashawn",
    "html_url":"https://github.com/yqrashawn",
    "followers_url":"https://api.github.com/users/yqrashawn/followers",
    "following_url":"https://api.github.com/users/yqrashawn/following{/other_user}",
    "gists_url":"https://api.github.com/users/yqrashawn/gists{/gist_id}",
    "starred_url":"https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
    "subscriptions_url":"https://api.github.com/users/yqrashawn/subscriptions",
    "organizations_url":"https://api.github.com/users/yqrashawn/orgs",
    "repos_url":"https://api.github.com/users/yqrashawn/repos",
    "events_url":"https://api.github.com/users/yqrashawn/events{/privacy}",
    "received_events_url":"https://api.github.com/users/yqrashawn/received_events",
    "type":"User",
    "site_admin":false
  },
  "labels":[],
  "state":"closed",
  "locked":false,
  "assignee":null,
  "assignees":[],
  "milestone":null,
  "created_at":"2020-05-10 10:10:24 UTC",
  "updated_at":"2020-05-12 14:09:36 UTC",
  "closed_at":"2020-05-12 11:21:18 UTC",
  "author_association":"CONTRIBUTOR",
  "active_lock_reason":null,
  "pull_request":{
    "url":"https://api.github.com/repos/athensresearch/athens/pulls/47",
    "html_url":"https://github.com/athensresearch/athens/pull/47",
    "diff_url":"https://github.com/athensresearch/athens/pull/47.diff",
    "patch_url":"https://github.com/athensresearch/athens/pull/47.patch"
  },
  "body":"This commit add the github action to deploy `resource/public` to vercel. There's a demo PR [here](https://github.com/yqrashawn/athens-fork-for-gh-actions/pull/5). I have to create an unforked repo to tweak the gh action.\r\n\r\nThere're several things need to be done before making this possible.\r\n1. create a vercel account at https://vercel.com/\r\n2. create a vercel token at https://vercel.com/account/tokens as `VERCEL_TOKEN`\r\n3. install the [vercel cli](https://github.com/zeit/now/tree/master/packages/now-cli) with `yarn global add vertical` or `npm install vercel -g`\r\n4. cleanup `resource/public` folder, remove files generated by `lein dev` (too much files may reach vercel's free account upload limit)\r\n5. at root dir of athens, run `vercel --token=$VERCEL_TOKEN`\r\n\t- `Set up and deploy â€œ/path/to/athensâ€? [Y/n]`: **yes**\r\n\t- `Link to existing project? [y/N]`: **no**\r\n\t- `Whatâ€™s your projectâ€™s name?` **athens**\r\n\t- `In which directory is your code located?` **./**\r\n\t- `Want to override the settings? [y/N]`: **yes**\r\n\t- `Which settings would you like to overwrite (select multiple)? Build Command, Output Directory, Development Command`: **choose all three options with space and arrow key**\r\n\t\t- `Build Command`: **leave empty**\r\n\t\t- `Output Directory`: **resources/public**\r\n\t\t- `Development Command`: **leave empty**\r\n\r\n6. there will be a `.vercel/project.json` file created in athens root dir\r\n7. open https://github.com/athensresearch/athens/settings/secrets\r\n\t- add `VERCEL_TOKEN` same as above\r\n\t- add `VERCEL_ORG_ID`, `VERCEL_PROJECT_ID` with the value `orgId`, `projectId` from `.vercel/project.json`\r\n\r\nThen the action should work fine.",
  "performed_via_github_app":null,
  "comments":[
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/626356118",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-626356118",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":626356118,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNjM1NjExOA==",
      "user":{
        "login":"cpaika",
        "id":4513028,
        "node_id":"MDQ6VXNlcjQ1MTMwMjg=",
        "avatar_url":"https://avatars3.githubusercontent.com/u/4513028?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/cpaika",
        "html_url":"https://github.com/cpaika",
        "followers_url":"https://api.github.com/users/cpaika/followers",
        "following_url":"https://api.github.com/users/cpaika/following{/other_user}",
        "gists_url":"https://api.github.com/users/cpaika/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/cpaika/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/cpaika/subscriptions",
        "organizations_url":"https://api.github.com/users/cpaika/orgs",
        "repos_url":"https://api.github.com/users/cpaika/repos",
        "events_url":"https://api.github.com/users/cpaika/events{/privacy}",
        "received_events_url":"https://api.github.com/users/cpaika/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-10 16:46:46 UTC",
      "updated_at":"2020-05-10 17:06:28 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"For what it's worth, looks good to me.  Also didn't know Github had a secrets management feature that's awesome.",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/626373531",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-626373531",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":626373531,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNjM3MzUzMQ==",
      "user":{
        "login":"jeroenvandijk",
        "id":27645,
        "node_id":"MDQ6VXNlcjI3NjQ1",
        "avatar_url":"https://avatars1.githubusercontent.com/u/27645?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/jeroenvandijk",
        "html_url":"https://github.com/jeroenvandijk",
        "followers_url":"https://api.github.com/users/jeroenvandijk/followers",
        "following_url":"https://api.github.com/users/jeroenvandijk/following{/other_user}",
        "gists_url":"https://api.github.com/users/jeroenvandijk/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/jeroenvandijk/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/jeroenvandijk/subscriptions",
        "organizations_url":"https://api.github.com/users/jeroenvandijk/orgs",
        "repos_url":"https://api.github.com/users/jeroenvandijk/repos",
        "events_url":"https://api.github.com/users/jeroenvandijk/events{/privacy}",
        "received_events_url":"https://api.github.com/users/jeroenvandijk/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-10 19:02:15 UTC",
      "updated_at":"2020-05-10 19:02:15 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@yqrashawn Thank you for the research and the well structured pull request! I'll look into this tomorrow when I'm fresh again :)",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/626952821",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-626952821",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":626952821,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk1MjgyMQ==",
      "user":{
        "login":"jeroenvandijk",
        "id":27645,
        "node_id":"MDQ6VXNlcjI3NjQ1",
        "avatar_url":"https://avatars1.githubusercontent.com/u/27645?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/jeroenvandijk",
        "html_url":"https://github.com/jeroenvandijk",
        "followers_url":"https://api.github.com/users/jeroenvandijk/followers",
        "following_url":"https://api.github.com/users/jeroenvandijk/following{/other_user}",
        "gists_url":"https://api.github.com/users/jeroenvandijk/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/jeroenvandijk/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/jeroenvandijk/subscriptions",
        "organizations_url":"https://api.github.com/users/jeroenvandijk/orgs",
        "repos_url":"https://api.github.com/users/jeroenvandijk/repos",
        "events_url":"https://api.github.com/users/jeroenvandijk/events{/privacy}",
        "received_events_url":"https://api.github.com/users/jeroenvandijk/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-11 20:45:29 UTC",
      "updated_at":"2020-05-11 20:45:29 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@yqrashawn I followed your instructions; created a Vercel account and added the secrets to the Athens accounts. It doesn't seem to have an effect yet. Any idea? I tried it here after adding the secrets https://github.com/athensresearch/athens/pull/51\r\n\r\nMaybe it has something to do with the fact that pull requests from other repos cannot access these ENV vars? ([source](url))",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627018418",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627018418",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627018418,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzAxODQxOA==",
      "user":{
        "login":"yqrashawn",
        "id":15090582,
        "node_id":"MDQ6VXNlcjE1MDkwNTgy",
        "avatar_url":"https://avatars0.githubusercontent.com/u/15090582?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/yqrashawn",
        "html_url":"https://github.com/yqrashawn",
        "followers_url":"https://api.github.com/users/yqrashawn/followers",
        "following_url":"https://api.github.com/users/yqrashawn/following{/other_user}",
        "gists_url":"https://api.github.com/users/yqrashawn/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/yqrashawn/subscriptions",
        "organizations_url":"https://api.github.com/users/yqrashawn/orgs",
        "repos_url":"https://api.github.com/users/yqrashawn/repos",
        "events_url":"https://api.github.com/users/yqrashawn/events{/privacy}",
        "received_events_url":"https://api.github.com/users/yqrashawn/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-11 23:26:01 UTC",
      "updated_at":"2020-05-11 23:26:01 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@jeroenvandijk It seems thereâ€™s missing env in the Vercel deploy section in the gh action log. You need to add `VERCEL_TOKEN` `VERCEL_ORG_ID` `VERCEL_PROJECT_ID` in github secrets.  \n\nCheckout the difference between the below two build. \n\nhttps://github.com/athensresearch/athens/runs/664750937?check_suite_focus=true#step:8:3\n\nhttps://github.com/yqrashawn/athens-fork-for-gh-actions/runs/660499402?check_suite_focus=true#step:7:4",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627029453",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627029453",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627029453,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzAyOTQ1Mw==",
      "user":{
        "login":"yqrashawn",
        "id":15090582,
        "node_id":"MDQ6VXNlcjE1MDkwNTgy",
        "avatar_url":"https://avatars0.githubusercontent.com/u/15090582?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/yqrashawn",
        "html_url":"https://github.com/yqrashawn",
        "followers_url":"https://api.github.com/users/yqrashawn/followers",
        "following_url":"https://api.github.com/users/yqrashawn/following{/other_user}",
        "gists_url":"https://api.github.com/users/yqrashawn/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/yqrashawn/subscriptions",
        "organizations_url":"https://api.github.com/users/yqrashawn/orgs",
        "repos_url":"https://api.github.com/users/yqrashawn/repos",
        "events_url":"https://api.github.com/users/yqrashawn/events{/privacy}",
        "received_events_url":"https://api.github.com/users/yqrashawn/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 00:03:14 UTC",
      "updated_at":"2020-05-12 00:03:14 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"> Maybe it has something to do with the fact that pull requests from other repos cannot access these ENV vars?\n\nIâ€™ll check that later. Thereâ€™s some security logic behind this for sure. Maybe PR from forked repo canâ€™t access gh secret. ",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627032423",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627032423",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627032423,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzAzMjQyMw==",
      "user":{
        "login":"yqrashawn",
        "id":15090582,
        "node_id":"MDQ6VXNlcjE1MDkwNTgy",
        "avatar_url":"https://avatars0.githubusercontent.com/u/15090582?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/yqrashawn",
        "html_url":"https://github.com/yqrashawn",
        "followers_url":"https://api.github.com/users/yqrashawn/followers",
        "following_url":"https://api.github.com/users/yqrashawn/following{/other_user}",
        "gists_url":"https://api.github.com/users/yqrashawn/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/yqrashawn/subscriptions",
        "organizations_url":"https://api.github.com/users/yqrashawn/orgs",
        "repos_url":"https://api.github.com/users/yqrashawn/repos",
        "events_url":"https://api.github.com/users/yqrashawn/events{/privacy}",
        "received_events_url":"https://api.github.com/users/yqrashawn/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 00:12:50 UTC",
      "updated_at":"2020-05-12 00:12:50 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"https://github.community/t5/GitHub-Actions/Make-secrets-available-to-builds-of-forks/td-p/30678\n\nGitHub donâ€™t allow PR from forked repo to read the secret yet. ",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627051513",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627051513",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627051513,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA1MTUxMw==",
      "user":{
        "login":"cpaika",
        "id":4513028,
        "node_id":"MDQ6VXNlcjQ1MTMwMjg=",
        "avatar_url":"https://avatars3.githubusercontent.com/u/4513028?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/cpaika",
        "html_url":"https://github.com/cpaika",
        "followers_url":"https://api.github.com/users/cpaika/followers",
        "following_url":"https://api.github.com/users/cpaika/following{/other_user}",
        "gists_url":"https://api.github.com/users/cpaika/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/cpaika/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/cpaika/subscriptions",
        "organizations_url":"https://api.github.com/users/cpaika/orgs",
        "repos_url":"https://api.github.com/users/cpaika/repos",
        "events_url":"https://api.github.com/users/cpaika/events{/privacy}",
        "received_events_url":"https://api.github.com/users/cpaika/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 01:19:47 UTC",
      "updated_at":"2020-05-12 01:23:15 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@yqrashawn Makes sense they can't disclose secrets to fork's but that's a bummer they haven't implemented a solution.  \r\n\r\nWhat do you think is the best workflow then?  People could be granted contributor status to be able to push branches to this repo, so they're PR's would be able to run the github action.  But that hurts the contribution experience for anyone new who submits a PR from a fork since they wont get access to PR deploys.\r\n\r\nOther than that we could adopt a separate CI/CD tool other than Github actions?  I've never used it, but the envoy proxy project uses circleci and it seems to integrate well ðŸ¤· https://github.com/envoyproxy/envoy/pull/11148\r\n\r\nThat being said, Github actions are **so** easy so it's a real bummer to have to adopt something more advanced",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627052367",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627052367",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627052367,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA1MjM2Nw==",
      "user":{
        "login":"cpaika",
        "id":4513028,
        "node_id":"MDQ6VXNlcjQ1MTMwMjg=",
        "avatar_url":"https://avatars3.githubusercontent.com/u/4513028?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/cpaika",
        "html_url":"https://github.com/cpaika",
        "followers_url":"https://api.github.com/users/cpaika/followers",
        "following_url":"https://api.github.com/users/cpaika/following{/other_user}",
        "gists_url":"https://api.github.com/users/cpaika/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/cpaika/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/cpaika/subscriptions",
        "organizations_url":"https://api.github.com/users/cpaika/orgs",
        "repos_url":"https://api.github.com/users/cpaika/repos",
        "events_url":"https://api.github.com/users/cpaika/events{/privacy}",
        "received_events_url":"https://api.github.com/users/cpaika/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 01:22:59 UTC",
      "updated_at":"2020-05-12 01:22:59 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"Apparently they do have a free tier for open source that looks pretty robust, but its hard to know how many credits we would be using https://circleci.com/open-source/",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627052958",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627052958",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627052958,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA1Mjk1OA==",
      "user":{
        "login":"tangjeff0",
        "id":8952138,
        "node_id":"MDQ6VXNlcjg5NTIxMzg=",
        "avatar_url":"https://avatars1.githubusercontent.com/u/8952138?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/tangjeff0",
        "html_url":"https://github.com/tangjeff0",
        "followers_url":"https://api.github.com/users/tangjeff0/followers",
        "following_url":"https://api.github.com/users/tangjeff0/following{/other_user}",
        "gists_url":"https://api.github.com/users/tangjeff0/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/tangjeff0/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/tangjeff0/subscriptions",
        "organizations_url":"https://api.github.com/users/tangjeff0/orgs",
        "repos_url":"https://api.github.com/users/tangjeff0/repos",
        "events_url":"https://api.github.com/users/tangjeff0/events{/privacy}",
        "received_events_url":"https://api.github.com/users/tangjeff0/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 01:25:03 UTC",
      "updated_at":"2020-05-12 01:25:03 UTC",
      "author_association":"MEMBER",
      "body":"I've used open-source for CircleCI before. It worked well, but I don't know if we exceeded credits ðŸ¤·  ",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627080248",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627080248",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627080248,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA4MDI0OA==",
      "user":{
        "login":"yqrashawn",
        "id":15090582,
        "node_id":"MDQ6VXNlcjE1MDkwNTgy",
        "avatar_url":"https://avatars0.githubusercontent.com/u/15090582?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/yqrashawn",
        "html_url":"https://github.com/yqrashawn",
        "followers_url":"https://api.github.com/users/yqrashawn/followers",
        "following_url":"https://api.github.com/users/yqrashawn/following{/other_user}",
        "gists_url":"https://api.github.com/users/yqrashawn/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/yqrashawn/subscriptions",
        "organizations_url":"https://api.github.com/users/yqrashawn/orgs",
        "repos_url":"https://api.github.com/users/yqrashawn/repos",
        "events_url":"https://api.github.com/users/yqrashawn/events{/privacy}",
        "received_events_url":"https://api.github.com/users/yqrashawn/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 03:05:35 UTC",
      "updated_at":"2020-05-12 03:05:35 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@tangjeff0 The credits will be enough. We have a browser plugin running e2e tests on circleci [here](https://app.circleci.com/pipelines/github/Conflux-Chain/conflux-portal/295/workflows/34b6f768-c86e-4e8f-afbd-b5759024bf54). The credits never run out.",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627181141",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627181141",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627181141,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzE4MTE0MQ==",
      "user":{
        "login":"jeroenvandijk",
        "id":27645,
        "node_id":"MDQ6VXNlcjI3NjQ1",
        "avatar_url":"https://avatars1.githubusercontent.com/u/27645?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/jeroenvandijk",
        "html_url":"https://github.com/jeroenvandijk",
        "followers_url":"https://api.github.com/users/jeroenvandijk/followers",
        "following_url":"https://api.github.com/users/jeroenvandijk/following{/other_user}",
        "gists_url":"https://api.github.com/users/jeroenvandijk/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/jeroenvandijk/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/jeroenvandijk/subscriptions",
        "organizations_url":"https://api.github.com/users/jeroenvandijk/orgs",
        "repos_url":"https://api.github.com/users/jeroenvandijk/repos",
        "events_url":"https://api.github.com/users/jeroenvandijk/events{/privacy}",
        "received_events_url":"https://api.github.com/users/jeroenvandijk/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 08:02:13 UTC",
      "updated_at":"2020-05-12 08:03:39 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@yqrashawn I added the ENV's: \r\n<img width=\"177\" alt=\"Secrets\" src=\"https://user-images.githubusercontent.com/27645/81656012-f6eb9300-9436-11ea-9520-375f96290994.png\">\r\nPotentially, I could have made a mistake their, but the whole output looks different than in your pull request. So I'm assuming that it's restricted.\r\n\r\nAs for CircleCI, how would that change things? They don't use env vars? They have a separate deploy step that is fully controlled in the admin?\r\n\r\nRegardless of how we get this to work technically, this made me think about security. We actually don't want anyone to be able to make a pull request and have it deploy under our name. This is promoting phishing attacks in our name. **So let's think carefully about that.**\r\n\r\nAlthough, it's not ideally CD, right now every Github Action is pushing html artifacts that can be downloaded quickly. I hope to have something better than this later.",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627235198",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627235198",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627235198,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzIzNTE5OA==",
      "user":{
        "login":"yqrashawn",
        "id":15090582,
        "node_id":"MDQ6VXNlcjE1MDkwNTgy",
        "avatar_url":"https://avatars0.githubusercontent.com/u/15090582?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/yqrashawn",
        "html_url":"https://github.com/yqrashawn",
        "followers_url":"https://api.github.com/users/yqrashawn/followers",
        "following_url":"https://api.github.com/users/yqrashawn/following{/other_user}",
        "gists_url":"https://api.github.com/users/yqrashawn/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/yqrashawn/subscriptions",
        "organizations_url":"https://api.github.com/users/yqrashawn/orgs",
        "repos_url":"https://api.github.com/users/yqrashawn/repos",
        "events_url":"https://api.github.com/users/yqrashawn/events{/privacy}",
        "received_events_url":"https://api.github.com/users/yqrashawn/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 09:49:04 UTC",
      "updated_at":"2020-05-12 09:49:04 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"> Regardless of how we get this to work technically, this made me think about security. We actually don't want anyone to be able to make a pull request and have it deploy under our name. This is promoting phishing attacks in our name. So let's think carefully about that.\r\n\r\nVercel has a feature that asks for confirmation before running the ci if the `now.json` file is changed. As far as I know, circleci don't support this feature.\r\n\r\nThe problem is vercel only supports building projects using a specific framework. I doubt there's java env in their container for building projects.\r\n\r\nI think we'll just use the current artifact approach till there's a better solution.",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/627335851",
      "html_url":"https://github.com/athensresearch/athens/pull/47#issuecomment-627335851",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/47",
      "id":627335851,
      "node_id":"MDEyOklzc3VlQ29tbWVudDYyNzMzNTg1MQ==",
      "user":{
        "login":"jeroenvandijk",
        "id":27645,
        "node_id":"MDQ6VXNlcjI3NjQ1",
        "avatar_url":"https://avatars1.githubusercontent.com/u/27645?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/jeroenvandijk",
        "html_url":"https://github.com/jeroenvandijk",
        "followers_url":"https://api.github.com/users/jeroenvandijk/followers",
        "following_url":"https://api.github.com/users/jeroenvandijk/following{/other_user}",
        "gists_url":"https://api.github.com/users/jeroenvandijk/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/jeroenvandijk/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/jeroenvandijk/subscriptions",
        "organizations_url":"https://api.github.com/users/jeroenvandijk/orgs",
        "repos_url":"https://api.github.com/users/jeroenvandijk/repos",
        "events_url":"https://api.github.com/users/jeroenvandijk/events{/privacy}",
        "received_events_url":"https://api.github.com/users/jeroenvandijk/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-05-12 13:13:30 UTC",
      "updated_at":"2020-05-12 13:13:30 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@yqrashawn Thank you for trying though. Maybe we can revisit Vercel later",
      "performed_via_github_app":null
    }
  ]
}
