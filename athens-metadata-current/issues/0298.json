{
  "url":"https://api.github.com/repos/athensresearch/athens/issues/298",
  "repository_url":"https://api.github.com/repos/athensresearch/athens",
  "labels_url":"https://api.github.com/repos/athensresearch/athens/issues/298/labels{/name}",
  "comments_url":"https://api.github.com/repos/athensresearch/athens/issues/298/comments",
  "events_url":"https://api.github.com/repos/athensresearch/athens/issues/298/events",
  "html_url":"https://github.com/athensresearch/athens/issues/298",
  "id":664929597,
  "node_id":"MDU6SXNzdWU2NjQ5Mjk1OTc=",
  "number":298,
  "title":"Slash commands menu selection moves off the visible area",
  "user":{
    "login":"jorda0mega",
    "id":484084,
    "node_id":"MDQ6VXNlcjQ4NDA4NA==",
    "avatar_url":"https://avatars2.githubusercontent.com/u/484084?v=4",
    "gravatar_id":"",
    "url":"https://api.github.com/users/jorda0mega",
    "html_url":"https://github.com/jorda0mega",
    "followers_url":"https://api.github.com/users/jorda0mega/followers",
    "following_url":"https://api.github.com/users/jorda0mega/following{/other_user}",
    "gists_url":"https://api.github.com/users/jorda0mega/gists{/gist_id}",
    "starred_url":"https://api.github.com/users/jorda0mega/starred{/owner}{/repo}",
    "subscriptions_url":"https://api.github.com/users/jorda0mega/subscriptions",
    "organizations_url":"https://api.github.com/users/jorda0mega/orgs",
    "repos_url":"https://api.github.com/users/jorda0mega/repos",
    "events_url":"https://api.github.com/users/jorda0mega/events{/privacy}",
    "received_events_url":"https://api.github.com/users/jorda0mega/received_events",
    "type":"User",
    "site_admin":false
  },
  "labels":[
    {
      "id":1947284692,
      "node_id":"MDU6TGFiZWwxOTQ3Mjg0Njky",
      "url":"https://api.github.com/repos/athensresearch/athens/labels/type:%20%F0%9F%90%9E%20bug",
      "name":"type: 🐞 bug",
      "color":"0075ca",
      "default":false,
      "description":"Something isn't working"
    }
  ],
  "state":"closed",
  "locked":false,
  "assignee":null,
  "assignees":[],
  "milestone":null,
  "created_at":"2020-07-24 05:39:39 UTC",
  "updated_at":"2020-07-29 02:28:16 UTC",
  "closed_at":"2020-07-29 02:28:16 UTC",
  "author_association":"CONTRIBUTOR",
  "active_lock_reason":null,
  "body":"*If you aren't sure about your bug, you can always join our [Discord](https://discord.gg/HNmxvpm) and ask in #agora or #engineering!*\r\n\r\n**Problem**\r\n\r\nWhen the slash command menu appears by typing / and you scroll up/down you can move off the visible area. The index does not wrap around the number of items.\r\n\r\n**Expected Behavior**\r\n\r\nWhen reaching the bottom or top of the options it should wrap around and begin on the opposite end. \r\n\r\n**Dependencies**\r\n\r\n- Athens: commit 7e9e658b7ea2c2888c76e37a5f94099bf5ebdaf3\r\n- browser: Brave v1.11.97\r\n- JVM: 13\r\n- node.js: 14.5.0\r\n\r\n**To Reproduce**\r\n\r\nLoad up Athens > Load Test Data > type / in one of the blocks to get the slash command menu > press down or up arrow keys to scroll through the options (keep going until you are able to get to an option that's not visible in the area)\r\n\r\n**Screenshots**\r\n\r\n![CleanShot 2020-07-24 at 01 34 54](https://user-images.githubusercontent.com/484084/88363418-0009b200-cd4e-11ea-9fb1-1051f01f22e3.gif)\r\n\r\n\r\n",
  "performed_via_github_app":null,
  "comments":[
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/663360495",
      "html_url":"https://github.com/athensresearch/athens/issues/298#issuecomment-663360495",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/298",
      "id":663360495,
      "node_id":"MDEyOklzc3VlQ29tbWVudDY2MzM2MDQ5NQ==",
      "user":{
        "login":"nthd3gr33",
        "id":37888959,
        "node_id":"MDQ6VXNlcjM3ODg4OTU5",
        "avatar_url":"https://avatars3.githubusercontent.com/u/37888959?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/nthd3gr33",
        "html_url":"https://github.com/nthd3gr33",
        "followers_url":"https://api.github.com/users/nthd3gr33/followers",
        "following_url":"https://api.github.com/users/nthd3gr33/following{/other_user}",
        "gists_url":"https://api.github.com/users/nthd3gr33/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/nthd3gr33/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/nthd3gr33/subscriptions",
        "organizations_url":"https://api.github.com/users/nthd3gr33/orgs",
        "repos_url":"https://api.github.com/users/nthd3gr33/repos",
        "events_url":"https://api.github.com/users/nthd3gr33/events{/privacy}",
        "received_events_url":"https://api.github.com/users/nthd3gr33/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-07-24 05:59:23 UTC",
      "updated_at":"2020-07-24 05:59:23 UTC",
      "author_association":"MEMBER",
      "body":"We can probably apply the same fix we made in #280 to this issue. \r\ncc @alaq @itsrainingmani ",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/663363454",
      "html_url":"https://github.com/athensresearch/athens/issues/298#issuecomment-663363454",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/298",
      "id":663363454,
      "node_id":"MDEyOklzc3VlQ29tbWVudDY2MzM2MzQ1NA==",
      "user":{
        "login":"jorda0mega",
        "id":484084,
        "node_id":"MDQ6VXNlcjQ4NDA4NA==",
        "avatar_url":"https://avatars2.githubusercontent.com/u/484084?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/jorda0mega",
        "html_url":"https://github.com/jorda0mega",
        "followers_url":"https://api.github.com/users/jorda0mega/followers",
        "following_url":"https://api.github.com/users/jorda0mega/following{/other_user}",
        "gists_url":"https://api.github.com/users/jorda0mega/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/jorda0mega/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/jorda0mega/subscriptions",
        "organizations_url":"https://api.github.com/users/jorda0mega/orgs",
        "repos_url":"https://api.github.com/users/jorda0mega/repos",
        "events_url":"https://api.github.com/users/jorda0mega/events{/privacy}",
        "received_events_url":"https://api.github.com/users/jorda0mega/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-07-24 06:10:37 UTC",
      "updated_at":"2020-07-24 06:10:37 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@nthd3gr33 exactly! I was playing around with but couldn't figure out where :search/index is getting updated. Would love to get you guys' feedback on it.",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/663912542",
      "html_url":"https://github.com/athensresearch/athens/issues/298#issuecomment-663912542",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/298",
      "id":663912542,
      "node_id":"MDEyOklzc3VlQ29tbWVudDY2MzkxMjU0Mg==",
      "user":{
        "login":"alaq",
        "id":1746118,
        "node_id":"MDQ6VXNlcjE3NDYxMTg=",
        "avatar_url":"https://avatars1.githubusercontent.com/u/1746118?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/alaq",
        "html_url":"https://github.com/alaq",
        "followers_url":"https://api.github.com/users/alaq/followers",
        "following_url":"https://api.github.com/users/alaq/following{/other_user}",
        "gists_url":"https://api.github.com/users/alaq/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/alaq/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/alaq/subscriptions",
        "organizations_url":"https://api.github.com/users/alaq/orgs",
        "repos_url":"https://api.github.com/users/alaq/repos",
        "events_url":"https://api.github.com/users/alaq/events{/privacy}",
        "received_events_url":"https://api.github.com/users/alaq/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-07-25 22:30:14 UTC",
      "updated_at":"2020-07-25 22:30:14 UTC",
      "author_association":"MEMBER",
      "body":"@jorda0mega Hope you don't mind, I went ahead an opened #304 for this, since it's almost exactly the code we had in #280 ",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/663921206",
      "html_url":"https://github.com/athensresearch/athens/issues/298#issuecomment-663921206",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/298",
      "id":663921206,
      "node_id":"MDEyOklzc3VlQ29tbWVudDY2MzkyMTIwNg==",
      "user":{
        "login":"jorda0mega",
        "id":484084,
        "node_id":"MDQ6VXNlcjQ4NDA4NA==",
        "avatar_url":"https://avatars2.githubusercontent.com/u/484084?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/jorda0mega",
        "html_url":"https://github.com/jorda0mega",
        "followers_url":"https://api.github.com/users/jorda0mega/followers",
        "following_url":"https://api.github.com/users/jorda0mega/following{/other_user}",
        "gists_url":"https://api.github.com/users/jorda0mega/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/jorda0mega/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/jorda0mega/subscriptions",
        "organizations_url":"https://api.github.com/users/jorda0mega/orgs",
        "repos_url":"https://api.github.com/users/jorda0mega/repos",
        "events_url":"https://api.github.com/users/jorda0mega/events{/privacy}",
        "received_events_url":"https://api.github.com/users/jorda0mega/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-07-26 00:37:15 UTC",
      "updated_at":"2020-07-26 00:37:15 UTC",
      "author_association":"CONTRIBUTOR",
      "body":"@alaq  no worries at all. I can now read your PR to understand. I'm curious, were you familiar with the code? I had the right idea of putting the logic in key-bindings.cljs but didn't realize the key-down event was back on the block element instead on the slash command menu. Is there a way to trace this behavior in cljs through the chrome inspector like one would do with js? Can it be done with the repl?\r\n\r\nI'm having a hard time following the code when components render dynamically. I'm wondering if there are any tricks I can use that make this behavior easier to understand.",
      "performed_via_github_app":null
    },
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/665080947",
      "html_url":"https://github.com/athensresearch/athens/issues/298#issuecomment-665080947",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/298",
      "id":665080947,
      "node_id":"MDEyOklzc3VlQ29tbWVudDY2NTA4MDk0Nw==",
      "user":{
        "login":"alaq",
        "id":1746118,
        "node_id":"MDQ6VXNlcjE3NDYxMTg=",
        "avatar_url":"https://avatars1.githubusercontent.com/u/1746118?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/alaq",
        "html_url":"https://github.com/alaq",
        "followers_url":"https://api.github.com/users/alaq/followers",
        "following_url":"https://api.github.com/users/alaq/following{/other_user}",
        "gists_url":"https://api.github.com/users/alaq/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/alaq/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/alaq/subscriptions",
        "organizations_url":"https://api.github.com/users/alaq/orgs",
        "repos_url":"https://api.github.com/users/alaq/repos",
        "events_url":"https://api.github.com/users/alaq/events{/privacy}",
        "received_events_url":"https://api.github.com/users/alaq/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-07-28 14:40:41 UTC",
      "updated_at":"2020-07-28 14:40:41 UTC",
      "author_association":"MEMBER",
      "body":"@jorda0mega I'm afraid I won't be of much help here, I have not been using any of the fancy clojure features. I have not even spent the time to get the REPL to work correctly (I know I am missing out), or even tried to use the devtools. We had done something almost identical for Athena in #280 so I merely looked for the key up/down events for the slash command and found them in `keybindings.cljs`. Then it was just adapting the Athena code to the slash commands.",
      "performed_via_github_app":null
    }
  ]
}
