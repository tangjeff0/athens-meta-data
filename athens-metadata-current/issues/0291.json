{
  "url":"https://api.github.com/repos/athensresearch/athens/issues/291",
  "repository_url":"https://api.github.com/repos/athensresearch/athens",
  "labels_url":"https://api.github.com/repos/athensresearch/athens/issues/291/labels{/name}",
  "comments_url":"https://api.github.com/repos/athensresearch/athens/issues/291/comments",
  "events_url":"https://api.github.com/repos/athensresearch/athens/issues/291/events",
  "html_url":"https://github.com/athensresearch/athens/issues/291",
  "id":662778155,
  "node_id":"MDU6SXNzdWU2NjI3NzgxNTU=",
  "number":291,
  "title":"Extensions (later)",
  "user":{
    "login":"HaojiXu",
    "id":29003511,
    "node_id":"MDQ6VXNlcjI5MDAzNTEx",
    "avatar_url":"https://avatars3.githubusercontent.com/u/29003511?v=4",
    "gravatar_id":"",
    "url":"https://api.github.com/users/HaojiXu",
    "html_url":"https://github.com/HaojiXu",
    "followers_url":"https://api.github.com/users/HaojiXu/followers",
    "following_url":"https://api.github.com/users/HaojiXu/following{/other_user}",
    "gists_url":"https://api.github.com/users/HaojiXu/gists{/gist_id}",
    "starred_url":"https://api.github.com/users/HaojiXu/starred{/owner}{/repo}",
    "subscriptions_url":"https://api.github.com/users/HaojiXu/subscriptions",
    "organizations_url":"https://api.github.com/users/HaojiXu/orgs",
    "repos_url":"https://api.github.com/users/HaojiXu/repos",
    "events_url":"https://api.github.com/users/HaojiXu/events{/privacy}",
    "received_events_url":"https://api.github.com/users/HaojiXu/received_events",
    "type":"User",
    "site_admin":false
  },
  "labels":[
    {
      "id":2092524669,
      "node_id":"MDU6TGFiZWwyMDkyNTI0NjY5",
      "url":"https://api.github.com/repos/athensresearch/athens/labels/type:%20%F0%9F%99%83%20later",
      "name":"type: ðŸ™ƒ later",
      "color":"1d76db",
      "default":false,
      "description":""
    }
  ],
  "state":"closed",
  "locked":false,
  "assignee":null,
  "assignees":[],
  "milestone":null,
  "created_at":"2020-07-21 09:07:27 UTC",
  "updated_at":"2020-07-23 04:42:24 UTC",
  "closed_at":"2020-07-23 04:41:53 UTC",
  "author_association":"MEMBER",
  "active_lock_reason":null,
  "body":"Related: #279 \r\nTo be done after v1 is ready!\r\n\r\n## Todo List\r\n- [ ] Talk about how we'd like athens extensions to be (for example, using something similar to Roam's API or something else?)\r\n    - [ ] How it links to custom DB queries exposed to users\r\n    - [ ] How it links to custom components\r\n- [ ] Figure out how to run them efficiently and securely - for example, using a sandboxed eval, or just using eval, or pre-compile, or else?\r\n- [ ] Docs about extensions!\r\n\r\nHere's a simple prototype of how extensions might work:\r\n```javascript\r\n// An Example Athens Extension\r\n\r\nAthens.api.onInit(() => {\r\n    // Log something in console\r\n    console.log(\"Example extension loaded!\");\r\n\r\n    // Add a slash command\r\n    Athens.api.commands.add(\"meaningoflife\", (currentNode) => {\r\n        currentNode.set(\":block/string\", \"42\").then(() => {\r\n            alert(\"42\");\r\n        });\r\n    });\r\n\r\n    // Add a custom component\r\n    Athens.api.components.add({\r\n        name: \"component-wikidata\",\r\n        match: \"wikidata\\:\\ .*\",\r\n        render: (content, uid) => {\r\n            wdcontent = content.substr(9);\r\n            \"<button onclick='window.navigate(\\\"https://wikidata.org/wiki/\" + wdcontent + \"\\\")'>Wikidata: Q\" + wdcontent + \"</button>\";\r\n        }\r\n    });\r\n});\r\n\r\n// Listen to events\r\nAthens.api.events.subscribe(\":editing/uid\", (editingUid) => {\r\n    console.log(\"Now editing: \" + editingUid);\r\n})\r\n```",
  "performed_via_github_app":null,
  "comments":[
    {
      "url":"https://api.github.com/repos/athensresearch/athens/issues/comments/662815452",
      "html_url":"https://github.com/athensresearch/athens/issues/291#issuecomment-662815452",
      "issue_url":"https://api.github.com/repos/athensresearch/athens/issues/291",
      "id":662815452,
      "node_id":"MDEyOklzc3VlQ29tbWVudDY2MjgxNTQ1Mg==",
      "user":{
        "login":"HaojiXu",
        "id":29003511,
        "node_id":"MDQ6VXNlcjI5MDAzNTEx",
        "avatar_url":"https://avatars3.githubusercontent.com/u/29003511?v=4",
        "gravatar_id":"",
        "url":"https://api.github.com/users/HaojiXu",
        "html_url":"https://github.com/HaojiXu",
        "followers_url":"https://api.github.com/users/HaojiXu/followers",
        "following_url":"https://api.github.com/users/HaojiXu/following{/other_user}",
        "gists_url":"https://api.github.com/users/HaojiXu/gists{/gist_id}",
        "starred_url":"https://api.github.com/users/HaojiXu/starred{/owner}{/repo}",
        "subscriptions_url":"https://api.github.com/users/HaojiXu/subscriptions",
        "organizations_url":"https://api.github.com/users/HaojiXu/orgs",
        "repos_url":"https://api.github.com/users/HaojiXu/repos",
        "events_url":"https://api.github.com/users/HaojiXu/events{/privacy}",
        "received_events_url":"https://api.github.com/users/HaojiXu/received_events",
        "type":"User",
        "site_admin":false
      },
      "created_at":"2020-07-23 04:42:23 UTC",
      "updated_at":"2020-07-23 04:42:23 UTC",
      "author_association":"MEMBER",
      "body":"Closing - discuss at #63!",
      "performed_via_github_app":null
    }
  ]
}
