{
  "url":"https://api.github.com/repos/athensresearch/athens/pulls/comments/429340850",
  "pull_request_review_id":417035414,
  "id":429340850,
  "node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM0MDg1MA==",
  "diff_hunk":"@@ -70,14 +70,37 @@\n        [:div {:style {:margin-left 20}}\n         [render-blocks (:block/uid @node)]]])))\n \n+(defn title [title]\n+  (let [s (reagent/atom {:editing false\n+                         :current-title title\n+                         :new-title title})\n+        save! (fn [] (dispatch [:node/rename (:current-title @s) (:new-title @s)])\n+                     (swap! s assoc :editing false))\n+        cancel! (fn [] (swap! s #(-> %\n+                                     (assoc :editing false)\n+                                     (assoc :new-title (:current-title @s)))))]\n+    (fn [title]\n+      (if (:editing @s)\n+        [:input {:value (:new-title @s)\n+                 :auto-focus true",
  "path":"src/cljs/athens/page.cljs",
  "position":29,
  "original_position":27,
  "commit_id":"032e2598053a41dfe187155f92d8bf411d6ca80e",
  "original_commit_id":"5c8d3ca52a96c26eaf09bd665d16b8fd1693fd4f",
  "user":{
    "login":"jelmerderonde",
    "id":2357145,
    "node_id":"MDQ6VXNlcjIzNTcxNDU=",
    "avatar_url":"https://avatars1.githubusercontent.com/u/2357145?v=4",
    "gravatar_id":"",
    "url":"https://api.github.com/users/jelmerderonde",
    "html_url":"https://github.com/jelmerderonde",
    "followers_url":"https://api.github.com/users/jelmerderonde/followers",
    "following_url":"https://api.github.com/users/jelmerderonde/following{/other_user}",
    "gists_url":"https://api.github.com/users/jelmerderonde/gists{/gist_id}",
    "starred_url":"https://api.github.com/users/jelmerderonde/starred{/owner}{/repo}",
    "subscriptions_url":"https://api.github.com/users/jelmerderonde/subscriptions",
    "organizations_url":"https://api.github.com/users/jelmerderonde/orgs",
    "repos_url":"https://api.github.com/users/jelmerderonde/repos",
    "events_url":"https://api.github.com/users/jelmerderonde/events{/privacy}",
    "received_events_url":"https://api.github.com/users/jelmerderonde/received_events",
    "type":"User",
    "site_admin":false
  },
  "body":"Indeed, if I don't add this attribute, the user would have to click twice on the h2 node to actually start editing. I think a limitation of auto-focus is that there can only be one element on the page with this attribute. I'm not sure what happens when there is more than one element on the page.\r\n\r\nAn alternative could be to make this a form-3 Reagent component, so I get a reference to the DOM node. Then I can call `.focus` on it.",
  "created_at":"2020-05-22 16:26:06 UTC",
  "updated_at":"2020-05-23 08:15:50 UTC",
  "html_url":"https://github.com/athensresearch/athens/pull/86#discussion_r429340850",
  "pull_request_url":"https://api.github.com/repos/athensresearch/athens/pulls/86",
  "author_association":"CONTRIBUTOR",
  "_links":{
    "self":{
      "href":"https://api.github.com/repos/athensresearch/athens/pulls/comments/429340850"
    },
    "html":{
      "href":"https://github.com/athensresearch/athens/pull/86#discussion_r429340850"
    },
    "pull_request":{
      "href":"https://api.github.com/repos/athensresearch/athens/pulls/86"
    }
  },
  "start_line":null,
  "original_start_line":null,
  "start_side":null,
  "line":88,
  "original_line":85,
  "side":"RIGHT",
  "in_reply_to_id":429267078
}